<footer th:fragment="footer">
    <script>
        Vue.use(VBmenu);

        new Vue({
            el: "#drawer",
            vuetify: new Vuetify({}),
            data: {
                drawer: false,
                menus: [],
                usuario: "",
                oi: "",
                perfil: ""
            },
            computed: {
                auth() {
                    return JSON.parse(localStorage.getItem("auth"));
                },
            },
            methods: {
                logout() {
                    localStorage.removeItem("auth");
                    window.location.href = window.location.origin + "/login";
                },
                parseJwt(token) {
                    try {
                        var base64Url = token.split('.')[1];
                        var base64 = base64Url.replace(/-/g, '+').replace(/_/g, '/');
                        var jsonPayload = decodeURIComponent(window.atob(base64).split('').map(function (c) {
                            return '%' + ('00' + c.charCodeAt(0).toString(16)).slice(-2);
                        }).join(''));

                        return JSON.parse(jsonPayload);
                    } catch (e) {
                        return null;
                    }
                }
            },
            created() {

                // const auxiliar = "eyJhbGciOiJIUzM4NCJ9.eyJpc3MiOiJhZDAxLWFwaSIsInN1YiI6IjE1MDI3NTg4NzM5IiwiaWF0IjoxNjg0NzYxODM4LCJleHAiOjE2ODQ3ODE4MzgsImNwZiI6IjE1MDI3NTg4NzM5Iiwibm9tZSI6IlLDtG11bG8iLCJvaSI6IjczIiwibWVudXMiOlt7ImNkU2VxbE1lbnUiOjEsImNkU2VxbFNpc3QiOjEsIm5tTWVudSI6IkZhdHVyYXMiLCJkZVJvdGEiOiJURnJtTWFudGVyRmF0dXJhIn0seyJjZFNlcWxNZW51IjoyLCJjZFNlcWxTaXN0IjoxLCJubU1lbnUiOiJJbmRpY2HDp8OjbyBkZSBDcsOpZGl0byIsImRlUm90YSI6IlRGcm1NYW50ZXJJbmRhQ3JlZCJ9LHsiY2RTZXFsTWVudSI6MywiY2RTZXFsU2lzdCI6MSwibm1NZW51IjoiRXh0cmF0byIsImRlUm90YSI6IlRGcm1FeHRyYXRvIn0seyJjZFNlcWxNZW51Ijo0LCJjZFNlcWxTaXN0IjoxLCJubU1lbnUiOiJDbGllbnRlcyIsImRlUm90YSI6IlRGcm1DbGllbnRlIn0seyJjZFNlcWxNZW51IjoxNCwiY2RTZXFsU2lzdCI6MSwibm1NZW51IjoiRGFzaGJvYXJkIiwiZGVSb3RhIjoiVEZybURhc2gifV0sIm9tIjp7ImNkU2VxbENsaWUiOjQsImNkQWJydk9tIjoiREdNTSIsImlkQ2xpZSI6IjQwMDAwIn0sInBlcmZpbCI6IkNIRUlOVCJ9.V9MItx1AHm7jTXqVDhB9Vn1gYsj96JAdaGvDE2xzHtZDhbS8ouHwhYqQHcRyfpu7"

                // const auth = this.parseJwt(this.auth?.accessToken || auxiliar);
                // this.menus = auth.menus
                // this.usuario = auth.nome;
                // this.perfil = auth.perfil;
                // this.oi = auth.oi;

                // window.auth = auth;

                // axios.defaults.headers.common['Authorization'] = "Bearer " + auxiliar;

            }
        })
    </script>
</footer>
